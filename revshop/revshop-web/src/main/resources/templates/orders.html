<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: layout('My Orders', ~{::section})}">

<section>
	<div class="d-flex justify-content-end mb-3">
	    <a th:href="@{/products}" 
	       class="btn btn-outline-secondary btn-sm">
	        üõç Back to Products
	    </a>
	</div>
<h2>My Orders</h2>

<div th:if="${orders == null or #lists.isEmpty(orders)}">
    <p>No orders found.</p>
</div>

<div th:each="order : ${orders}">

    <hr/>

    <p><strong>Order ID:</strong>
        <span th:text="${order.orderId}"></span>
    </p>

    <p><strong>Order Date:</strong>
        <span th:text="${order.orderDate}"></span>
    </p>

    <p><strong>Total Amount:</strong>
        ‚Çπ <span th:text="${order.totalAmount}"></span>
    </p>

    <p><strong>Status:</strong>
        <span th:text="${order.status}"></span>
    </p>

    <h4>Items:</h4>

    <table border="1">
        <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Subtotal</th>
        </tr>

        <tr th:each="item : ${order.items}">
            <td th:text="${item.productName}"></td>
            <td th:text="${item.quantity}"></td>
            <td th:text="${item.priceAtPurchase}"></td>
            <td th:text="${item.subtotal}"></td>
        </tr>
    </table>

</div>

</section>
</html>